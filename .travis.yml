os: linux
dist: xenial
cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sbt"
  - "$HOME/.ivy2"
language: scala
services:
- docker
script:
- sbt ++$TRAVIS_SCALA_VERSION compile test:compile it:compile
- sbt ++$TRAVIS_SCALA_VERSION test
- sbt ++$TRAVIS_SCALA_VERSION it:test
- sbt ++$TRAVIS_SCALA_VERSION coverageReport
- sbt ++$TRAVIS_SCALA_VERSION coverageOff assembly
- "${TRAVIS_BUILD_DIR}/travis/docker-build.sh"
scala:
- 2.13.2
jdk:
- openjdk8
- openjdk11
after_success:
- bash <(curl -s https://codecov.io/bash)
- if [ $TRAVIS_PULL_REQUEST = 'false' ]; then sbt ++$TRAVIS_SCALA_VERSION releaseEarly; fi
- if [ ! -z "$TRAVIS_TAG" ] && [ "$TRAVIS_PULL_REQUEST" == "false" ]; then travis/docker-push.sh; fi
env:
  global:
  - secure: TNdZLaeo37k2OL9emOwIVs/HYoa09//seR/ZoC2TVjKAyp0zUnAOrqnmwjt+2UZFtZVitsFqfP5upI0rIiG2c3uLaXx+85/cjrMiIcD+DDZPUNvt8ritIK2Js3xEH+LzVlJmZ2vU8q+CTlFoGBITUlNTp/N12F+Jaw2rWKkad7jre6YKCNfcq7BZnWoWUJLaoh0yaJec13KpzssOyu014t40mw0/aCZgKPIE0SjWnvGgMd59w8l5tQP5yH/52QXNVXaSXWf+4i6j9p+GzO9cZxondCkwQTt8rjlfF2YaKX/G5ueT34+BbQWuqv7XxE5XoxvG1FZ70sQy9o/5hEfPv0P5NcYlgzcBGB6uD19/iXx3k3FWA15btNfpCVFts6taUl3MDTSFf5RDVpmiTswFtnq+EwpdZ+1+SvjDD6n3wKflUhLZQDCVN4Uec+eqoxShTNj1m1OVc7Wu04s8dwna8I8/9c6O2IpDDFeRBjv0xptJRoE+KhIoxFYu4qTA0fbMivu8mDFAJOobt94IB4BRBgGgePsxArxmqU58GX18efmyJOk4Hui++CgnulJK30s/fMq2/lNRmTkwYiT+7ND5X6JDltz+wSe71Adz7GPeIercBtJg726q6D9NhnU+Coq3YAL3dTVC8K8Vp0sSQPJXH4SQWx+28tVpIFELE9jKHz8=
  - secure: AXcVzH/gupQzJXYAQyfhxFQVc1vs/RM6noubcjoAk0/sPvDSdc/6aWqQCk5KMT8J2mi/pTvqdpIIWQv3EHzXzcGnFxBdhj0oKFnE6osHJFmC1deIByKiKxuz7H3Fyi77xxx3SOCuVA1WH/BatGo/TIKxa2bJVKQBhBvSdAlswJw/a7CVPe8Bsu9rLhTJ6djD2X2C4LBt6ZKCS+8pd/4fEj7SZa+2mcjZo28ZJzCWEn+OxT+gwfjEf5xRX4Cla7Vr5BH7iujMkDPp2b3GWytxMEgHHK5BWjYljKuw0Vw9pxWh760bvJczlnw5MNDwy5/5EdEGl145SBZvH6TgUPgzmLkc+95KxJ2VF+HNxVmTLgPVrZyuk12yhKcCqWvZhMLpjG5Et1UQra9DJZspl6pIVRo40GBuihc+UgrBnp8NfhyBwqNAa2QeeLpwUJESdM7/emg5TvdhJn60atWl5x+nVbbLILZClee1vqmkLM6cGSPVdQhzwiGYcxSaonntWv/MRPOqY8AeSfV3Uojq4u9SNYJAUH6pFsdbPD896MMPjY7OgrURGkCf9S7jKeWPP4qk1C+092aeDRmJ/vAD1L7UnB3KsvkVmlMZKfjlKHNotZL0ws0zYx9w/qhRwOeO7lZHWiNYsPpk8xbTeLOLQqJIPucgahgNHvrWIC39dRYuZV8=
  - secure: QKl5aeCe5bDoM1V0IptnGR+CUkxzS1Fb69q6rEStCUY3/79NBzvZ454eWC9R6TR//fvwoCJdWCXUrEyiclT+3Uli1Gmwz7Nb65/EbWOUyMRulm1L4XZIfCPqmbUVCUV644p3xZW4KHaUNHjuLF8AhN4FqH67vHnxPfgro33fPf+Pxl4Ig0Sy8k/Wy8QVnBy+CPX4ZxJpPO+p3Y2pejQcbEJaSWa/+UnjQ/fpM9Tqe5iWOOP6RL9pQ2l7UU9IsQREOds7bhrJZqOrd9zaireGBwweE/o4KPk5ZCa08up0sBkZvcJO673wUvX/q7CRSae2wVrB4gUd04XBffNtqh42ZESm63Z8vrfM1DOoQc+o0aPTKvje9WpmzRAQV1biWDQygp+GQI0NRhliO1FBkhX+qNkXolIAf1xecBR6hd/eO6vhhPy5SKVzf9wLOpRPdwQ8JXeeUWL0z4gfUMVlPI6gFr57baYOT9rl7ulb5TIPL76lILK5MUT6LrT7ERQcfIa0yNR80NjJ1MbqQCqIbpp4kKszqrpPUn2qalJ3ns+q4cL1Id2g2Yn5Gg3+tFHGjwf0pjU219h/s8sosDSVu6KpbrW2QY9mwJbSmWPdUx1WmxbaRmxEh7QAPhXSp7O3XkUk9OrcZIjYLUl/zgpwSeUI6X20eL8LYnJYfLt7AMBdh+s=
  - secure: ZwOMXJHpilqf9pQQcdgHLr/a1QaqQnKOmO6y+wLqlqPYSPQXOukJcbblPBuY+zQCm8x7K3ijdyEvfD7EneWd7wKuVWlAXKpNa6e/8KCwp5PvjraV9fhjWd9HE42Xdr8AzpBh09ILoSPoWCx6eq0KhfjDQ9E/r+HOSDDojXAqdtv9hs1+2+B+7W1jgXNCP4lq3zLwYeNcSvZp94Oa8vZwvrZ1yEV0p8vxQ/d34kxA9gVgkspuyWeW6GIXhLrl3flW9NjIyG6DgmoSak4deqlH6uz8921aWol7ZQEOwR0DFAuisbfuDiWdCHW4i2MSYKwCPpNBc4QRRktP/jEtKgfSiXW6Ra7cbv7x67fmc2YQ4CUy8X5U20BJrzvKWujCGPFeIIhsK4iQounZgB8tUWNmo5OLZeK1X6aEcdVjuc+rjX+tS0MOiDk4QD8m//6M5RwjRvkFcJ66wjkz9S+8cI3FM9LreHjoJQgOEUi5YwfElsXmWXdiB2yJZBauEsuiRYEMYbxbvcAonwy/ylQEAwXdmBMgJPgg3c7zVwLXi1o3oQWsXi24IcTz+L3MMxs3Om+AXqtFoiMkkLAGsD91C48kYra/+I9e+a5YV3NQL3TGp07PR5kWfGf96ZT1KlfRxSa+aDV/L3Ov0jz73tIW8++N57bveJnKe30JgdM0LNjyrV8=
  - secure: lst92DHeAZHdvpiHJVT2nfK+QlwxkWIFKT6k6BZGI1IJD/zTdHnJ0/IDhN2F1largExpuWjyZxETelB9WNjGUYldt1AaHVahZuEOoGAZIE3/gbbBAc2upDDeucRNzErlRLeOi9P4WmxK7jwV1EktxXyhw24wbiBCHQ8yWrq26vxuXzGmNPEdEvCv/hPMHWGplt7vDjMdbFXj12cZUGCvtc8P2AK+vnepyiML0Qgjp86YJusf93iV+tY1+HEG1/SewDg8bo7WsRAUfqjUtzzOu+cfm2/z8hdnO/KYa4FsEB73Ikt0BPe82RxbxOW90W56/ykOnF5MSgnejrzn4RD9vO8p/f8umm3In6A2mZ5lspsEXlrRnv+8Jj6+4I6fI4Vhs3ZaiGdpOMfQRGHePk/l6SoUCzGqvuUYvD29Rb0u+4FO1fI0tAM+3VXM9W9ZYGlkm1y98ovDOv2a88J2V/1MTw8/AhsTvR2nzGFg1QLYK0U9kFKkL1vI1rZgHBbjVTjSQM7Fl8Q8KJBK30m4/laQifP2nbKGUvreVEoXlcpS41oirLf6T9qvC6tlrkhFZsUgyAVOtwZ/VDtM+0/tAZM5G51ipHWMutJ5BI+YwBfMzDFfiGL5vj4KEfH2H8Vlk8VKDK+Ys/FgxSFnrQGyu9zQU+yWjVjgyiZ0Ne1rLIfm1Wc=
  - secure: FeQGjfFlF4dJUbPQKDdIWYVB5w3NZDq4j01Tw77zD8Np2aofYbI1WLUGbLIDMAauNXbWMpKN2oxt66nN2/76splpA6hH/EJBCESw9cNG+fQRw/lH7lHv4tnenVLrHBQApF5JzNBPhfjWnXV02RvqG6E9WCVh2Ow58Rpbh+GmHhRbkzJWvkKr/niiQHOefIhXFiRMLXpkqEyNxcrKwQPclk6QLra/hDnOYCv9Sj1qhFX7Awq642ZGs08QkQEmH0lg0A84yehIzhtDXsIWityCV9b95la/P4Jt6RYN3Ad7k6J+C77u8oQA8RY1r52KTtiCK4v4uWp0ak4+N39n70z/+sM3qvyC5a1yJgo+fhICLwuxtYTosVms5PFGixorRrIqbzu1YscMkMTufYWzqfMM2guVmXKfnv9SR1LGKqs089Ji2cURaQcLRVcRt5kI4yi9dmrxhBh4eA3ib+aRnkE2dhbPKco+Y/apa6pC4DT7d4JNDkmk1NB0w4UMDBl71OrdUsIKLSMxhHJEtdLXfUWc5bWkqb3szaS3bY928lomCP2NQ3NH2GdbIF4DtAlm7+572mKxIUPw7jkD3HpQeJQZF1BoQxZWAlTSyeBXTlJ1VsYLilCWzlVggAVkHNBRUCyKKspNhYC5f/xZyo36PY5zDSXNQzUTwS/X/lf0WucyoBE=
before_install:
- if [ $TRAVIS_PULL_REQUEST = 'false' ]; then openssl aes-256-cbc -K $encrypted_13e05bfb2ab5_key
  -iv $encrypted_13e05bfb2ab5_iv -in secrets/secrets.tar.enc -out secrets/local.secrets.tar
  -d; tar xv -f secrets/local.secrets.tar; fi
